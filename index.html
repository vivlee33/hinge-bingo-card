<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;600&family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bingo Card Generator</title>
<style>
    /* ========== Base ========== */
  body {
    font-family: "Hanken Grotesk", sans-serif; /* Body font */
    margin: 0;
    background: #F8E9DD;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1, h2, h3 {
    font-family: "Baloo 2", sans-serif; /* Titles */
    text-align: center;             /* Keep centered */
    color: #097B85;                 /* Title Color */
  }

  button {
    font-family: "Baloo 2", sans-serif; /* Buttons too */
  }
  
    /* ========== NEW container for layout ========== */
  .container {
  display: flex;
  justify-content: center;   /* centers horizontally */
  align-items: flex-start;   /* top-aligned */
  gap: 24px;                 /* space between bingo + word list */
  flex-wrap: wrap;           /* allow wrapping on mobile */
  margin: 20px auto;
  max-width: 95%;
  }

  /* ========== Bingo grid ========== */
  #controls label,
  #newWordInput,
  #addWordBtn,
  .cell,
  #wordCount,
  #wordListContainer {
    font-family: "Hanken Grotesk", sans-serif; /* Body text */
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    background: #f9f9f9;
    padding: 12px; /* optional, adds space inside the box */
    max-width: 400px;
    
    /* Center container and content */
    margin-left: auto;
    margin-right: auto;
  }
  
  /* Remove bullets and add spacing */
  #wordListContainer ul {
    list-style-type: none;
    padding-left: 0;
    margin: 0;
  }

  .category-section {
    margin-bottom: 16px; /* space between categories */
  }

  .category-title {
    font-weight: bold;
    margin-bottom: 6px;
  }

  #bingo {
    display: grid;
    grid-template-columns: repeat(5, 1fr); /* exactly 5 equal columns */
    gap: 4px;
    margin: 12px auto;
    justify-content: center;
    width: 100%;
    max-width: 500px;
  }

  .cell {
    background: white;
    width: 100%;           /* take full column width */
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 6px;
    user-select: none;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    position: relative;
    max-width: 150px;       /* max cell width */
    box-sizing: border-box;
    height: auto;           /* allows height to grow with text */
    word-wrap: break-word;  /* wrap long words */
  }
  
      /* ========== Category colors ========== */
  .cell.bio { color: #4B4B7C; }      /* DARK PURPLE */
  .cell.picture { color: #D69F40; }  /* DEEP YELLOW */
  .cell.prompt { color: #A0526D; }   /* DUSTY ROSE */
  .cell.reference { color: #5A9367; }/* SAGE GREEN */
  .cell.quote { color: #C0623C; }    /* TERRA COTTA */
  .cell.food { color: #6B4C9A; }     /* SOFT PURPLE */
  .cell.sports { color: #2E8BC0; }   /* SOFT BLUE */
  .cell.cliches { color: #097B85; }  /* TEAL */

  .cell.free {
    background: #a3d2ca;
    font-weight: bold;
    cursor: default;
  }

  .cell.marked {
    background: #ffb703;
    color: white;
  }

  /* ========== Controls ========== */
  #controls {
    display: flex;
    align-items: center;
    gap: 12px;          /* horizontal spacing between buttons and checkbox */
    flex-wrap: wrap;     /* wrap items on small screens */
    margin: 16px 0;
    justify-content: center;
  }

  #controls label {
    display: flex;       /* align checkbox and text horizontally */
    align-items: center;
    font-size: 14px;
    margin: 0;
  }

  #controls input[type="checkbox"] {
    margin-right: 6px;   /* spacing between checkbox and text */
  }

  button {
    font-size: 16px;
    padding: 10px 18px;
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    cursor: pointer;
    background: #EDB758;
    color: #333333;
    transition: background-color 0.3s ease;
  }

  button:hover {
    background: #E99968;
  }

  select {
    font-size: 14px;
    max-width: 90%;
  }

    /* ========== Word List ========== */
  #wordListContainer {
  font-family: "Hanken Grotesk", sans-serif;
  border: 2px solid #4B4B7C;
  border-radius: 6px;
  background: #f9f9f9;
  padding: 12px;
  max-width: 400px;
  flex: 1;          /* lets it grow/shrink */
  min-width: 250px; /* prevents squish */
  }
  
  #wordCount {
    max-width: 300px;
    margin: 12px auto;
    font-size: 14px;
    font-weight: bold;          /* stand out */
    color: #4B4B7C;             /* theme color */
    text-align: center;
    padding: 6px;
    background: #FFFAE0;       /* light background for contrast */
  }

  #addWordContainer {
    max-width: 400px;
    margin: 8px auto;
    text-align: center;
    display: flex;
    flex-direction: column; /* stack input and controls vertically */
    align-items: center;    /* center everything horizontally */
    gap: 8px;               /* space between input and the row below */
  }

  #addWordControls {
    display: flex;    /* treat as a single block */
    justify-content: center; /* center the row horizontally */
    gap: 8px;                /* space between dropdown and button */
    align-items: center;     /* vertically align dropdown and button */
    width: auto;            /* shrink to fit content */
  }
  
  #newWordCategory {
    width: 180px;               /* fixed width so it doesn‚Äôt stretch */
    flex: none;                 /* prevent it from expanding */
  }

  #newWordInput {
    width: 75%;
    padding: 6px;
    font-size: 14px;
  }

  #addWordBtn {
    padding: 6px 12px;
    font-size: 14px;
    margin-left: 8px;
    background: #B6D5D8;
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    color: #333333;
    cursor: pointer;
    flex: none;
  }

  #addWordBtn:hover {
    background: #C4B4E1;
  }

  /* ========== Responsive adjustments ========== */
  @media (max-width: 480px) {
    .cell {
      font-size: 10px;    /* reduce font on small screens */
      padding: 2px;
    }

    #controls {
      gap: 6px;
    }

    #controls label {
      font-size: 10px;
    }

    button {
      font-size: 14px;
      padding: 8px 12px;
    }
  }
</style>
</head>
<body>
<main class="app">
  <h1>Hinge Bingo - Boys Edition</h1>

    <!-- üîΩ bingo grid + word list are children of .container -->
  <div class="container">
    <div class="left-col">
      <div id="bingoWrapper">
        <div id="bingo" role="grid" aria-label="Bingo board"></div>
      </div>

      <!-- Controls -->
      <div id="controls">
        <button id="randomizeBtn">Randomize</button>
        <button id="clearBtn">Clear</button>
        <label>
          <input type="checkbox" id="manualFillToggle" />
          Manual Fill Mode
        </label>
      </div>

      <div id="addWordContainer">
        <input type="text" id="newWordInput" placeholder="Add a new option..." />

        <div id="addWordControls">
          <select id="newWordCategory">
            <option value="">-- Select category --</option>
            <option value="bio">Bio</option>
            <option value="picture">Picture</option>
            <option value="prompt">Prompt</option>
            <option value="reference">Reference</option>
            <option value="quote">Quote</option>
            <option value="food">Food</option>
            <option value="sports">Sports</option>
            <option value="cliches">Cliches</option>
            <option value="other">Other</option>
          </select>

          <button id="addWordBtn">Add</button>
        </div>
      </div>

      
      <div id="wordCount" aria-live="polite"></div>
    </div>

    <aside id="wordListContainer" aria-label="Word list">
      <h2>Option List</h2>
      <ul id="wordList"></ul>
    </aside>
  </div>
</main>

<script>
  const gridSize = 5;
  const words = {
    bio: [
      "Job: Entrepreneur","Job: Bartender","Job: DJ","Job: Developer","Job: Software engineer","Job: PM","Job: Finance / VC","Job: Not listed",
      "IG / Snap in bio","Has kids (bonus if he says ‚ÄúI‚Äôm a single dad‚Äù)","Smokes weed","College: Any UC","College Stanford","Conservative",
      "Long-term, open to short","6‚Äô0"
    ],
    picture: [
      "With a fish", "A dog at a party ('Not my dog')","With his mom","Gym flex","Shirtless in bathroom",
      "Hat-fishing","Distant / Dark / Can‚Äôt see face / Blurry","Angel wing photo","Cropped out photo","Car",
      "Mullet","Meme","Drunk / Hungover / Throwing up","Golden Gate Bridge","Group photo where you can‚Äôt tell who he is",
      "Wedding guest photo","Sunglasses","Hiking / Mountain / Rock climbing","Patagonia jacket","Coachella","Japan"
    ],
    prompt: [
      "Love language: Acts of service","Love language: Physical touch",
      "Looking for: Witty banter / Dark humor / Don‚Äôt take yourself too seriously / Sarcasm / Roast",
      "Looking for: Something serious / Long-term but open","Looking for: Athletic woman","Looking for: Caring / Kind / Understanding",
      "All that I ask is: That you‚Äôre honest","Worst idea / Most spontaneous thing I‚Äôve done: Joining hinge",
      "I'll fall for you if: You trip me (up)","Controversial opinion: Pineapple on pizza","I get overly competitive about: Everything",
      "I know the best place in town: for brunch","Voice prompt feels cursed/cringe"
    ],
    reference: [
      "The Office","Harry Potter","Game of Thrones","Breaking Bad","Marvel",
      "Anime","Rick and Morty","Joe Rogan","Crypto / Stock"
    ],
    quote: [
      "Love traveling","Looking for my passenger princess","Just ask","I‚Äôm an open book","Bad texter",
      "Let‚Äôs get to know each other","Partner in crime","Make me laugh","I‚Äôm not on here much","Add me on IG"
    ],
    food: [
      "Tacos","Pizza","Beer","Sushi","Whiskey","Brunch","Coffee","Ramen","Spicy food",
      "Boba","Tequila","KBBQ","Hotpot"
    ],
    sports: [
      "Tennis","Pickleball","Football","Golf","Rock climbing","Hiking","Biking","Baseball"
    ],
    cliches: [
      "Coffee is their personality","Writes an essay for a prompt","Someone in the room recognizes/knows him","Empty profile",
      "Just moved here / New in town","Just got out of a long-term relationship","Raving","Photography","Extremely patronizing comments"
    ],
    other: [
    ]
  };

  const bingo = document.getElementById('bingo');
  const randomizeBtn = document.getElementById('randomizeBtn');
  const clearBtn = document.getElementById('clearBtn');
  const manualFillToggle = document.getElementById('manualFillToggle');
  const wordCountDisplay = document.getElementById('wordCount');
  const newWordInput = document.getElementById('newWordInput');
  const addWordBtn = document.getElementById('addWordBtn');
  const wordListElement = document.getElementById('wordList');
  let manualFillMode = false;
  let cells = [];

  function shuffle(a){ const arr = a.slice(); for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }

  function createGrid(){
    bingo.innerHTML = ''; cells = [];
    for(let r=0;r<gridSize;r++){
      for(let c=0;c<gridSize;c++){
        const cell = document.createElement('div'); cell.className='cell'; cell.dataset.row=r; cell.dataset.col=c;
        if(r===2 && c===2){ cell.classList.add('free'); cell.textContent='FREE'; cell.dataset.marked='false'; }
        else{ cell.textContent=''; cell.dataset.marked='false'; }
        cell.addEventListener('click',()=>onCellClick(cell));
        bingo.appendChild(cell); cells.push(cell);
      }
    }
  }
  
    function getCategory(word) {
    for (const category in words) {
      if (words[category].includes(word)) return category;
    }
    return null;
  }

  // Flatten all words into a single array for random use
  function allWords() {
    return Object.values(words).flat();
  }


    function randomFill(){
    const flatWords = allWords();
    if(flatWords.length < gridSize*gridSize - 1){
      alert('Not enough words to fill the bingo card.');
      return;
    }
    const shuffled = shuffle(flatWords);
    let idx = 0;

    for(let r=0;r<gridSize;r++){
      for(let c=0;c<gridSize;c++){
        const cell = cells[r*gridSize+c];
        cell.className = "cell"; // reset classes

        if(r===2 && c===2){
          cell.textContent = 'FREE';
          cell.classList.add('free');
          cell.dataset.marked = 'false';
        } else {
          const word = shuffled[idx++];
          const category = getCategory(word);
          cell.textContent = word;
          if (category) cell.classList.add(category);
          cell.dataset.marked = 'false';
        }
      }
    }
    updateWordList();
    updateWordCount();
  }

  function clearGrid(){ cells.forEach(cell=>{ if(cell.classList.contains('free')){ cell.textContent='FREE'; cell.style.backgroundColor='#A8DADC'; } else{ cell.textContent=''; cell.style.backgroundColor=''; } cell.classList.remove('marked'); cell.dataset.marked='false'; }); }

  function onCellClick(cell){
    if(manualFillMode){ if(cell.classList.contains('free')) return; openWordSelector(cell); return; }
    if(cell.dataset.marked==='true'){ cell.dataset.marked='false'; cell.classList.remove('marked'); cell.style.backgroundColor=''; }
    else{ cell.dataset.marked='true'; cell.classList.add('marked'); cell.style.backgroundColor='#F1A399'; }
  }

function openWordSelector(cell){
  const select=document.createElement('select'); 
  select.style.width='100%';

  const empty=document.createElement('option');
  empty.value='';
  empty.textContent='-- select word --';
  select.appendChild(empty);

  // Flatten words into an array
  const allWordsArray = Object.values(words).flat();

  allWordsArray.forEach(w => {
    const opt = document.createElement('option');
    opt.value = w;
    opt.textContent = w;
    select.appendChild(opt);
  });

  select.value=(cell.textContent && cell.textContent!=='FREE')?cell.textContent:'';

  cell.innerHTML='';
  cell.appendChild(select);

  // üëá prevent dropdown from closing instantly in Chrome
  select.focus();
  select.addEventListener("click", (e) => {
    e.stopPropagation();
  });

  function commit(){
    const val = select.value.trim();
    if(val){
      // add to word list if not exists
      const category = getCategory(val);
      if(!category){
        alert("Selected word doesn't belong to any category!");
      }
      cell.textContent = val;
    } else {
      cell.textContent = '';
    }
    cell.dataset.marked = 'false';
  }

  select.addEventListener('change',()=>{ commit(); });
  select.addEventListener('blur',()=>{ setTimeout(()=>commit(),100); });
}

   function updateWordList() {
    wordListElement.innerHTML = '';

    for (const category in words) {
      const section = document.createElement('div');
      section.classList.add('category-section');

      const title = document.createElement('div');
      title.classList.add('category-title');
      title.textContent = category.toUpperCase();

      // Match colors to cell classes
      if (category === "bio") title.style.color = "#4B4B7C";
      if (category === "picture") title.style.color = "#D69F40";
      if (category === "prompt") title.style.color = "#A0526D";
      if (category === "reference") title.style.color = "#5A9367";
      if (category === "quote") title.style.color = "#C0623C";
      if (category === "food") title.style.color = "#6B4C9A";
      if (category === "sports") title.style.color = "#2E8BC0";
      if (category === "cliches") title.style.color = "#097B85";

      section.appendChild(title);

      const ul = document.createElement('ul');
      words[category].forEach(w => {
        const li = document.createElement('li');
        li.textContent = w;
        ul.appendChild(li);
      });

      section.appendChild(ul);
      wordListElement.appendChild(section);
    }
  }
  
  function updateWordCount() {
    const totalWords = Object.values(words).reduce((sum, arr) => sum + arr.length, 0);
    wordCountDisplay.textContent = `Option list contains ${totalWords} words.`;
  }


  addWordBtn.addEventListener('click', () => {
    const val = newWordInput.value.trim();
    const category = document.getElementById('newWordCategory').value;

    if (!val) return alert("Please enter a word.");
    if (!category) return alert("Please select a category.");

    // Check if the word already exists in that category
    if (words[category].includes(val)) {
      return alert('That word already exists in this category.');
    }

    // Add the word to the selected category
    words[category].push(val);

    // Clear inputs
    newWordInput.value = '';
    document.getElementById('newWordCategory').value = '';

    // Update the word list and count
    updateWordList();
    updateWordCount();
  });

  manualFillToggle.addEventListener('change',(e)=>{ manualFillMode=e.target.checked; });
  randomizeBtn.addEventListener('click',()=>randomFill());
  clearBtn.addEventListener('click',()=>clearGrid());

  createGrid(); randomFill(); updateWordList(); updateWordCount();
</script>
</body>
</html>
